# Stack Overflow
Проектирование высоконагруженных систем - курсовая работа

## Содержание
1. [Тема и целевая аудитория](#1)
2. [Расчет нагрузки](#2)

<a name="1"> </a>
## 1. Тема и целевая аудитория 

### 1.1 Тема 
[Stack Overflow](https://stackoverflow.com/) — система вопросов и ответов о программировании

### 1.2 MVP

- Регистрация / Авторизация
- Теги вопросов
- Создание вопроса
- Добавление ответа

### 1.3 Целевая аудитория 

Посещений в месяц - 100 млн

| Страна            | Процент пользователей |
| ----------------- | --------------------- |
| Соединенные Штаты | 20.31%                |
| Индия             | 9.57%                 |
| Великобритания    | 3.50%                 |
| Германия          | 3.29%                 |
| Другие            | 59.33%                |

<a name="2"> </a>
## 2. Расчет нагрузки 

### 2.1 Продуктовые метрики 

Данные взяты с StackOverflow[[1]](https://stackoverflow.com/) и SignHouse[[2]](https://www.usesignhouse.com/blog/stack-overflow-stats)

В среднем один вопрос или один ответ имеют размер 1000 символов - 1 КБ

| Метрика                               | Показатель |
| ------------------------------------- | ---------- |
| Посещений в месяц                     | 100 млн    |
| Посещений в день                      | 3.3 млн    |
| Средняя продолжительность посещения   | 7:21 мин   |
| Среднее количество посещенных страниц | 2.47       |
| Количество вопросов                   | 23 млн     |
| Количество вопросов в минуту          | 4          |
| Вопросы / Ответы                      | 0.67       |
| Количество ответов в минуту           | 6          |
| Количество ответов                    | 34 млн     |

### 2.2 Технические метрики

- Создание вопроса: 4 / 60 = 0.066 RPS
- Добавление ответа: 6 / 60 = 0.1 RPS
- Просмотр вопросов: 3.3 * 10<sup>6</sup> * 2.47 / (24 * 60 * 60) = 943 RPS

| Тип нагрузки      | RPS   |
| ----------------- | ----- |
| Просмотр вопросов | 944   |
| Добавление ответа | 0.1   |
| Создание вопроса  | 0.066 |



### Размер хранения данных и сетевой трафик

- Новых данных в год: (4 + 6) * (60 * 24 * 30 * 12) = 5184000 КБ = 5062.5 МБ ≈ 5 ГБ 
- Объем хранения вопросов: 23 млн КБ = 21.93 ГБ
- Объем хранения ответов: 34 млн КБ = 32.42 ГБ
- Суточный трафик: 2.47 * (60 * 24) * 3.3 млн = 11737440000 КБ/сут = 11193.7 ГБ/сут = 10.93 ТБ/сут



## Источники 

1. https://stackoverflow.com/
2. https://www.usesignhouse.com/blog/stack-overflow-stats
